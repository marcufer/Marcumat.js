[wave] {
  box-sizing: border-box;
  display: inline-block;
  position: relative;
  overflow: hidden;
  vertical-align: middle;
}

/* Simplified timings:
   - Only two timing variables remain:
     --ripple-duration: transform/expansion duration
     --ripple-fade-duration: opacity fade duration
*/

:root{
  /* Expansion duration made substantially slower */
  --ripple-duration: 1200ms;

  /* Single fade timing for all fades (unchanged) */
  --ripple-fade-duration: 800ms;

  /* Blur tuning and transitions */
  --ripple-blur-default: blur(0.6px);
  --ripple-blur-duration: 120ms;
  --ripple-blur-easing: cubic-bezier(0.2, 0.9, 0.32, 1);

  /* gentle ease for expansion */
  --ripple-easing: cubic-bezier(0.12, 0.75, 0.24, 1);

  /* sheen tuning */
  --ripple-sheen-opacity: 0.82;
}

/* Respect user's reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  :root {
    --ripple-blur-duration: 1ms;
    --ripple-fade-duration: 120ms;
    --ripple-duration: 220ms;
  }
}

.ripple {
  pointer-events: none;
  position: absolute;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  background-color: currentColor;

  filter: var(--ripple-blur, var(--ripple-blur-default));
  box-shadow: 0 4px 12px rgba(8, 12, 20, 0.04);

  opacity: 1;
  transform: scale(1) translate3d(0,0,0);
  transform-origin: 50% 50%;

  transition:
    transform var(--ripple-duration) var(--ripple-easing),
    opacity var(--ripple-fade-duration) cubic-bezier(0.4, 0, 0.2, 1),
    filter var(--ripple-blur-duration) var(--ripple-blur-easing),
    box-shadow 260ms var(--ripple-easing);

  will-change: auto;
  contain: strict;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-tap-highlight-color: transparent;
}

.ripple::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
  pointer-events: none;
  background: radial-gradient(circle at 40% 35%, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 28%, transparent 58%);
  opacity: var(--ripple-sheen-opacity, 0.82);
  transform: scale(1);
  transition:
    transform var(--ripple-duration) var(--ripple-easing),
    opacity var(--ripple-fade-duration) cubic-bezier(0.4, 0, 0.2, 1);
  will-change: auto;
}

.ripple.animating,
.ripple.fading {
  will-change: transform, opacity, filter;
  box-shadow: 0 6px 14px rgba(8, 12, 20, 0.045);
}

.ripple.animating {
  transform: scale(var(--ripple-final-scale, 1)) translate3d(0,0,0);
  filter: var(--ripple-blur, var(--ripple-blur-default));
}
.ripple.animating::before {
  transform: scale(calc(var(--ripple-final-scale, 1) * 1.04));
  opacity: 1;
}

.ripple.fading {
  opacity: 0;
  filter: blur(0px);
}
.ripple.fading::before {
  opacity: 0;
}

.ripple, .ripple::before { box-sizing: border-box; }

:root.wave-low-performance {
  --ripple-blur-default: none;
  --ripple-blur-duration: 80ms;
  --ripple-sheen-opacity: 0.6;
  --ripple-shadow: 0 3px 8px rgba(8,12,20,0.03);
}

:root.wave-medium-performance {
  --ripple-blur-default: blur(0.45px);
  --ripple-blur-duration: 160ms;
  --ripple-sheen-opacity: 0.72;
}

:root.wave-high-performance {
  --ripple-blur-default: blur(0.7px);
  --ripple-blur-duration: 200ms;
  --ripple-sheen-opacity: 0.86;
}

.wave-low-performance .ripple.animating,
.wave-low-performance .ripple.fading {
  box-shadow: 0 3px 8px rgba(8,12,20,0.03);
}