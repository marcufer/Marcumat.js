/* Ultra Smooth Wave Effect CSS for large/small elements */
/* - Uses containment, GPU compositing, optimized transitions, keyframes
   - Canvas support: set .ripple-canvas if using canvas
*/

/* Surface containment */
.ripple-surface {
  position: relative;
  overflow: hidden;
  z-index: 0;
  contain: layout style paint;
  /* GPU hint: compositing layer */
  will-change: transform;
}

/* DOM ripple (span) */
.ripple {
  pointer-events: none;
  position: absolute;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  contain: strict;
  /* GPU acceleration */
  transform: scale(1) translate3d(0,0,0);
  opacity: 1;
  will-change: unset;
  filter: var(--ripple-blur, blur(0.8px));
  backface-visibility: hidden;
  transition:
    transform var(--ripple-duration, 420ms) cubic-bezier(0.32, 0, 0.53, 1),
    opacity var(--ripple-fade-duration, 650ms) cubic-bezier(0.4, 0, 0.2, 1),
    filter 70ms cubic-bezier(0.4, 0, 0.2, 1);
  perspective: 1000px;
}

/* Animate only when needed */
.ripple.animating {
  will-change: transform, opacity, filter;
  transform: scale(var(--ripple-final-scale, 1)) translate3d(0,0,0);
}
.ripple.fading {
  opacity: 0;
}

/* Canvas ripple for large elements */
.ripple-canvas {
  contain: strict;
  will-change: opacity, transform;
  border-radius: inherit;
  pointer-events: none;
  position: absolute;
  left: 0; top: 0;
  width: 100%; height: 100%;
  opacity: 1;
  transition: opacity 650ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Keyframes for smoother GPU animation (optional for spans) */
@keyframes rippleGPU {
  0% { opacity: 1; transform: scale(1); }
  97% { opacity: 1; }
  100% { opacity: 0; transform: scale(var(--ripple-final-scale, 1)); }
}
.ripple.gpu-anim {
  animation: rippleGPU var(--ripple-duration, 420ms) cubic-bezier(0.32, 0, 0.53, 1) forwards;
}

/* Optional: Prevent highlight on mobile */
[data-wave-tap-highlight="true"],
[wave] {
  -webkit-tap-highlight-color: transparent !important;
  tap-highlight-color: transparent !important;
}